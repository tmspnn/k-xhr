!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.kXhr=t():e.kXhr=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(n,l,function(t){return e[t]}.bind(null,l));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.assign(new XMLHttpRequest,{async:e.async||!0,beforeSend:e.beforeSend,callbacks:[],cancel:function(){t.abort()},catch:function(e){return t.callbacks.push({type:"reject",handler:e}),t},contentType:e.contentType,data:e.data||null,error:null,extendedBy:"k-xhr",finally:function(e){return t.finallyHandler=e,t},finallyHandler:null,headers:e.headers,method:(e.method||"get").toUpperCase(),onprogress:e.onprogress,resolve:function(){var e;if(t.value&&"k-xhr"==t.value.extendedBy)(e=t.value.callbacks).push.apply(e,t.callbacks),t.value.finallyHandler=t.finallyHandler,t.callbacks.length=0,t.finallyHandler=null;else{for(var r=void 0;r=t.callbacks.shift();)if("resolve"==r.type)try{t.value=r.handler(t.value)}catch(e){return t.state="rejected",t.error=e,t.reject()}t.finallyHandler&&t.finallyHandler(t)}},reject:function(){for(var e;e=t.callbacks.shift();)if("reject"==e.type&&(t.value=e.handler(t.error),null!=t.value))return t.state="fulfilled",t.resolve();t.finallyHandler&&t.finallyHandler(t)},state:"pending",then:function(e,r){return t.callbacks.push({type:"resolve",handler:e}),r&&t.callbacks.push({type:"reject",handler:r}),t},timeout:e.timeout||0,url:e.url,value:null,withCredentials:e.withCredentials||!1});if(t.open(t.method,t.url,t.async),t.contentType&&t.setRequestHeader("Content-Type",t.contentType),t.headers)for(var r in t.headers)t.headers.hasOwnProperty(r)&&t.setRequestHeader(r,t.headers[r]);return t.onload=function(){t.status>=200&&t.status<400?(t.state="fulfilled",t.value=t.responseText,t.resolve()):t.onerror()},t.onerror=function(){t.state="rejected",t.error=t.responseText||t.status,t.reject()},t.beforeSend&&t.beforeSend(t),setTimeout(function(){return t.send(t.data)}),t}}]).default});
//# sourceMappingURL=k-xhr.min.js.map